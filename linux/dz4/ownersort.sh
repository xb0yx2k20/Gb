#!/bin/bash

# Проверяем наличие аргумента - пути к директории
if [ $# -eq 0 ]; then
  echo "Ошибка: не указан путь к директории."
  exit 1
fi

# Проверяем, существует ли указанная директория
if [ ! -d "$1" ]; then
  echo "Ошибка: директория не существует."
  exit 1
fi

# Переходим в указанную директорию
cd "$1"

# Получаем список файлов в текущей директории
files=$(find . -maxdepth 1 -type f)

# Перебираем файлы и копируем их в соответствующие директории
for file in $files; do
  # Получаем имя владельца файла
  owner=$(stat -c '%U' "$file")

  # Создаем директорию, если она не существует
  mkdir -p "$owner"

  # Копируем файл в директорию владельца
  cp "$file" "$owner/"
done

echo "Сортировка завершена."
